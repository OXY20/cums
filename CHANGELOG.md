# 更新日志

## v1.0.4 (2026-01-21)

### 🎉 重大更新
- **架构重构**: 采用以科目为中心的配置结构
- **灵活登录**: 支持多班级共用，学生可选择班级登录

### 新增功能
- ✨ 启动时显示详细配置信息（科目、班级、作业统计）
- ✨ 启动时显示已配置科目列表
- ✨ 显示配置文件路径和修改指南
- ✨ 自动检测并显示局域网访问地址
- 📱 优化控制台输出格式，使用图标增强可读性

### 优化
- 🔧 修复配置结构与代码不匹配问题
- 🔧 移除 `--class` 命令行参数，改为前端班级选择
- 🔧 统一前后端数据结构
- 📝 完善文档系统（README、CONFIG、API全面更新）

### 文档更新
- 📚 更新 README.md - 添加完整使用说明
- 📚 更新 CONFIG.md - 以科目为中心的配置说明
- 📚 更新 API.md - 完整的接口文档
- 📚 创建 TESTING.md - 测试指南
- 📚 更新 ISSUES.md - 标记已解决问题

### 配置示例
```json
{
    "subjects": {
        "数学": {
            "classes": ["一班", "二班"],
            "homeworks": ["第一章作业", "第二章作业"]
        }
    }
}
```

---

## v1.0.2 (2026-01-20)

### 新增功能
- 监听 0.0.0.0，支持局域网访问
- 端口自动检测，被占用时自动尝试下一个端口

### 优化
- 修复日志中重复显示"班"字
- 班级选择改为下拉菜单

---

## v1.0.1 (2026-01-20)

### 新增功能
- 文件上传日志记录
- 控制台输出：[时间] 班级 号数姓名 提交作业
- 日志文件保存到 cums/logs/cums.log

### 优化
- 自动创建 cums 数据目录
- 程序首次运行自动生成默认配置和静态文件

---

## v1.0.0 (2026-01-20)

### 新增功能
- 文件上传系统
- 班级/科目/作业配置管理
- 支持自定义存储路径

### 特性
- 简洁的登录界面
- 文件自动重命名：{作业名}_{学号}_{姓名}_{时间戳}.{扩展名}
- 同名文件自动添加时间戳后缀
- 跨平台支持（Windows/Linux/Mac）

### 配置
- 配置文件格式：JSON
- 端口：3000
- 默认上传目录：uploads/
