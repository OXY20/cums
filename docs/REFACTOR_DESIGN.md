# CUMS é‡æ„è®¾è®¡æ–‡æ¡£

> ç‰ˆæœ¬: 2.1.0
> æ—¥æœŸ: 2026-01-26  
> çŠ¶æ€: è®¾è®¡é˜¶æ®µ

## ä¸€ã€é¡¹ç›®å®šä½

**CUMS** (Classroom Upload Management System) æ˜¯ä¸€ä¸ªä¸“ä¸º**å±€åŸŸç½‘æœºæˆ¿**ç¯å¢ƒè®¾è®¡çš„**ç®€å•ä½œä¸šä¸Šä¼ ç³»ç»Ÿ**ã€‚

### æ ¸å¿ƒç›®æ ‡

1. **ç®€å•** - ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
2. **å®ç”¨** - æ»¡è¶³æœºæˆ¿ä½œä¸šæ”¶é›†çš„æ ¸å¿ƒéœ€æ±‚
3. **å¯é ** - ç¨³å®šè¿è¡Œï¼Œæ–‡ä»¶ä¸ä¸¢å¤±

### ä½¿ç”¨åœºæ™¯

- å­¦æ ¡æœºæˆ¿
- å±€åŸŸç½‘ç¯å¢ƒ
- æ•™å¸ˆæ”¶é›†å­¦ç”Ÿä½œä¸š
- æ— éœ€äº’è”ç½‘è¿æ¥

## äºŒã€åŠŸèƒ½éœ€æ±‚

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|--------|
| å­¦ç”Ÿç™»å½• | é€‰æ‹©ç­çº§ã€è¾“å…¥å­¦å·å§“å | P0 |
| ä½œä¸šä¸Šä¼  | é€‰æ‹©ç§‘ç›®å’Œä½œä¸šï¼Œä¸Šä¼ æ–‡ä»¶ | P0 |
| æ–‡ä»¶å­˜å‚¨ | æŒ‰ç§‘ç›®/ç­çº§/ä½œä¸šè‡ªåŠ¨åˆ†ç±» | P0 |
| é…ç½®ç®¡ç† | JSON é…ç½®ç§‘ç›®ã€ç­çº§ã€ä½œä¸š | P0 |

### éåŠŸèƒ½éœ€æ±‚

| éœ€æ±‚ | æè¿° |
|------|------|
| å•æ–‡ä»¶éƒ¨ç½² | ç¼–è¯‘ä¸ºå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ |
| è‡ªåŠ¨åˆå§‹åŒ– | é¦–æ¬¡è¿è¡Œè‡ªåŠ¨åˆ›å»ºé…ç½®å’Œç›®å½• |
| å±€åŸŸç½‘è®¿é—® | å­¦ç”Ÿæœºå¯é€šè¿‡ IP è®¿é—® |
| ä¸Šä¼ æ—¥å¿— | è®°å½•è°åœ¨ä»€ä¹ˆæ—¶é—´ä¸Šä¼ äº†ä»€ä¹ˆ |

### ä¸éœ€è¦çš„åŠŸèƒ½

- âŒ ç”¨æˆ·è®¤è¯/å¯†ç 
- âŒ æ–‡ä»¶ä¸‹è½½/é¢„è§ˆ
- âŒ æ•°æ®åº“
- âŒ ç”¨æˆ·ç®¡ç†åå°
- âŒ å¤æ‚çš„æƒé™æ§åˆ¶

## ä¸‰ã€æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æµè§ˆå™¨ (å­¦ç”Ÿæœº)                  â”‚
â”‚         static/index.html               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTP
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Go æœåŠ¡å™¨                    â”‚
â”‚              main.go                     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ API è·¯ç”±                            â”‚ â”‚
â”‚  â”‚ - POST /api/v1/login   ç™»å½•         â”‚ â”‚
â”‚  â”‚ - POST /api/v1/config  è·å–é…ç½®     â”‚ â”‚
â”‚  â”‚ - POST /api/v1/upload  ä¸Šä¼ æ–‡ä»¶     â”‚ â”‚
â”‚  â”‚ - GET  /api/v1/version ç‰ˆæœ¬ä¿¡æ¯     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚config  â”‚  â”‚uploads â”‚  â”‚ logs   â”‚
â”‚.json   â”‚  â”‚/       â”‚  â”‚/       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®å½•ç»“æ„

```
ç¨‹åºç›®å½•/
â”œâ”€â”€ cums.exe              # å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ config.json           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ static/
â”‚   â””â”€â”€ index.html        # å‰ç«¯é¡µé¢
â”œâ”€â”€ uploads/              # ä¸Šä¼ æ–‡ä»¶
â”‚   â””â”€â”€ {ç§‘ç›®}/{ç­çº§}/{ä½œä¸š}/
â””â”€â”€ logs/
    â””â”€â”€ cums.log          # ä¸Šä¼ æ—¥å¿—
```

> ğŸ“¦ **æ‰“åŒ…è¯´æ˜**: åˆ†å‘æ—¶éœ€è¦ä¸€èµ·æ‰“åŒ… `config.json` å’Œ `static/` ç›®å½•

## å››ã€é…ç½®è®¾è®¡

### é…ç½®æ–‡ä»¶ (config.json)

```json
{
    "version": "2.1.0",
    "server_addr": ":3000",
    "subjects": {
        "æ•°å­¦": {
            "classes": ["ä¸€ç­", "äºŒç­"],
            "homeworks": ["ç¬¬ä¸€ç« ä½œä¸š", "ç¬¬äºŒç« ä½œä¸š"]
        },
        "è¯­æ–‡": {
            "classes": ["ä¸€ç­"],
            "homeworks": ["ä½œæ–‡", "é˜…è¯»ç†è§£"]
        }
    }
}
```

### é…ç½®è¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| version | string | ç‰ˆæœ¬å· |
| server_addr | string | æœåŠ¡å™¨ç«¯å£ï¼Œå¦‚ ":3000" |
| subjects | object | ç§‘ç›®é…ç½® |
| subjects.{ç§‘ç›®}.classes | array | è¯¥ç§‘ç›®å¯¹åº”çš„ç­çº§åˆ—è¡¨ |
| subjects.{ç§‘ç›®}.homeworks | array | è¯¥ç§‘ç›®çš„ä½œä¸šåˆ—è¡¨ |

## äº”ã€API è®¾è®¡

### 1. ç™»å½•æ¥å£

```
POST /api/v1/login
Content-Type: application/json

è¯·æ±‚:
{
    "class": "ä¸€ç­",
    "student_id": "01",
    "student_name": "å¼ ä¸‰"
}

å“åº”:
{
    "success": true,
    "message": "ç™»å½•æˆåŠŸ",
    "data": {
        "class": "ä¸€ç­",
        "student_id": "01",
        "student_name": "å¼ ä¸‰"
    }
}
```

### 2. è·å–é…ç½®

```
POST /api/v1/config
Content-Type: application/json

å“åº”:
{
    "success": true,
    "data": {
        "subjects": { ... }
    }
}
```

### 3. æ–‡ä»¶ä¸Šä¼ 

```
POST /api/v1/upload
Content-Type: multipart/form-data

å‚æ•°:
- class: ç­çº§
- student_id: å­¦å·
- student_name: å§“å
- subject: ç§‘ç›®
- homework: ä½œä¸šåç§°
- file: æ–‡ä»¶

å“åº”:
{
    "success": true,
    "message": "ä¸Šä¼ æˆåŠŸ",
    "filename": "ç¬¬ä¸€ç« ä½œä¸š_01_å¼ ä¸‰_20260122100000.docx"
}
```

### 4. ç‰ˆæœ¬ä¿¡æ¯

```
GET /api/v1/version

å“åº”:
{
    "success": true,
    "version": "2.0.0"
}
```

## å…­ã€å‰ç«¯è®¾è®¡

### é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUMS - æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ         [å…³äº] [ç™»å½•] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚        è¯·å…ˆç™»å½•                    â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚         [ç™»å½•]                    â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              å…³äº Â· v2.0.0              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç™»å½•å

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUMS - æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ     ä¸€ç­-01å·å¼ ä¸‰    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [ä¸€ç­]                           â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  ç§‘ç›®:  [è¯·é€‰æ‹©ç§‘ç›®      â–¼]       â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  ä½œä¸š:  [è¯·é€‰æ‹©ä½œä¸š      â–¼]       â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  æ–‡ä»¶:  [é€‰æ‹©æ–‡ä»¶...]             â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚         [ä¸Šä¼ æ–‡ä»¶]                â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·æµç¨‹

1. æ‰“å¼€é¡µé¢ â†’ æ˜¾ç¤º"è¯·å…ˆç™»å½•"
2. ç‚¹å‡»ç™»å½• â†’ å¼¹å‡ºç™»å½•æ¡†
3. é€‰æ‹©ç­çº§ã€è¾“å…¥å­¦å·å§“å â†’ ç™»å½•
4. é€‰æ‹©ç§‘ç›® â†’ é€‰æ‹©ä½œä¸š â†’ é€‰æ‹©æ–‡ä»¶
5. ç‚¹å‡»ä¸Šä¼  â†’ æ˜¾ç¤ºç»“æœ

## ä¸ƒã€æ–‡ä»¶å‘½åè§„åˆ™

### æ ¼å¼

```
{ä½œä¸šå}_{å­¦å·}_{å§“å}_{æ—¶é—´æˆ³}.{æ‰©å±•å}
```

### ç¤ºä¾‹

```
ç¬¬ä¸€ç« ä½œä¸š_01_å¼ ä¸‰_20260122100000.docx
```

### å­˜å‚¨è·¯å¾„

```
uploads/{ç§‘ç›®}/{ç­çº§}/{ä½œä¸š}/{æ–‡ä»¶å}
```

### ç¤ºä¾‹

```
uploads/æ•°å­¦/ä¸€ç­/ç¬¬ä¸€ç« ä½œä¸š/ç¬¬ä¸€ç« ä½œä¸š_01_å¼ ä¸‰_20260122100000.docx
```

## å…«ã€æ—¥å¿—è®¾è®¡

### æ—¥å¿—æ ¼å¼

```
[2026-01-22 10:00:00] ä¸€ç­ 01å·å¼ ä¸‰ æäº¤ æ•°å­¦-ç¬¬ä¸€ç« ä½œä¸š IP:192.168.1.100
```

### æ—¥å¿—ä½ç½®

```
cums/logs/cums.log
```

## ä¹ã€ä»£ç ç»“æ„ (é‡æ„å)

### main.go

```go
package main

// ==================== æ•°æ®ç»“æ„ ====================

type Config struct { ... }
type SubjectConfig struct { ... }
type LoginRequest struct { ... }
type LoginResponse struct { ... }
// ...

// ==================== å…¨å±€å˜é‡ ====================

var config Config
var version = "2.0.0"

// ==================== é…ç½®ç®¡ç† ====================

func loadConfig() error { ... }
func saveDefaultConfig() error { ... }

// ==================== HTTP å¤„ç†å™¨ ====================

func loginHandler(w, r) { ... }
func configHandler(w, r) { ... }
func uploadHandler(w, r) { ... }
func versionHandler(w, r) { ... }

// ==================== å·¥å…·å‡½æ•° ====================

func jsonResponse(w, data) { ... }
func getLocalIP() string { ... }
func writeLog(message) { ... }

// ==================== ä¸»å‡½æ•° ====================

func main() { ... }
```

### ä»£ç è¡Œæ•°ç›®æ ‡

| æ¨¡å— | ç›®æ ‡è¡Œæ•° |
|------|----------|
| main.go | < 500 è¡Œ |
| index.html | < 400 è¡Œ |

## åã€é‡æ„æ£€æŸ¥æ¸…å•

### åç«¯é‡æ„

- [ ] ç§»é™¤ä¸å¿…è¦çš„è°ƒè¯•è¾“å‡º
- [ ] ç®€åŒ–é…ç½®åŠ è½½é€»è¾‘
- [ ] ç®€åŒ–æ–‡ä»¶è·¯å¾„å¤„ç†
- [ ] ç§»é™¤ç«¯å£å ç”¨æ£€æµ‹ï¼ˆæ”¹ä¸ºç®€å•æŠ¥é”™ï¼‰
- [ ] ç®€åŒ–æ—¥å¿—è®°å½•
- [ ] ç»Ÿä¸€é”™è¯¯å¤„ç†

### å‰ç«¯é‡æ„

- [ ] ç®€åŒ– CSSï¼ˆç§»é™¤ä¸å¿…è¦çš„æ ·å¼ï¼‰
- [ ] ç®€åŒ– JavaScript é€»è¾‘
- [ ] æ·»åŠ æ¸…æ™°çš„æ³¨é‡Š
- [ ] ä¿®å¤ç™»å½•çŠ¶æ€ç®¡ç†é—®é¢˜
- [ ] ç»Ÿä¸€å‘½åè§„èŒƒ

### æ–‡æ¡£æ›´æ–°

- [ ] æ›´æ–° README.md
- [ ] æ›´æ–° API.md
- [ ] æ›´æ–° CONFIG.md
- [ ] æ¸…ç†è¿‡æ—¶æ–‡æ¡£

## åä¸€ã€æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•

1. é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨åˆ›å»ºé…ç½®
2. ç™»å½•åŠŸèƒ½æ­£å¸¸
3. ç§‘ç›®/ä½œä¸šé€‰æ‹©è”åŠ¨æ­£ç¡®
4. æ–‡ä»¶ä¸Šä¼ æˆåŠŸ
5. æ–‡ä»¶æ­£ç¡®å­˜å‚¨åˆ°å¯¹åº”ç›®å½•
6. æ—¥å¿—æ­£ç¡®è®°å½•

### å…¼å®¹æ€§æµ‹è¯•

1. Windows 10/11
2. Chrome/Edge/Firefox
3. å±€åŸŸç½‘è®¿é—®

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-22
